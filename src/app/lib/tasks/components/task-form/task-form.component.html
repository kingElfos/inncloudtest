<p-toast [life]="1500" />
<div class="custom-card">
  <p-card [header]="taskId ? 'Editar tarea' : 'Crear tarea'">
    <form [formGroup]="taskForm" (ngSubmit)="onSubmit()" class="task-form">
      <div class="p-field">
        <label for="title">Título</label>
        <input
          id="title"
          pInputText
          formControlName="title"
          placeholder="Ingresa el título de la tarea"
          class="custom-input"
        />
        <p-messages
          severity="error"
          *ngIf="
            taskForm.get('title')?.hasError('required') &&
            taskForm.get('title')?.touched
          "
        >
          <ng-template pTemplate>
            <div class="ml-2">El título es obligatorio</div>
          </ng-template>
        </p-messages>
      </div>

      <div class="p-field">
        <label for="description">Descripción</label>
        <textarea
          id="description"
          pInputTextarea
          formControlName="description"
          rows="3"
          class="custom-textarea"
        ></textarea>

        <p-messages
          severity="error"
          *ngIf="
            taskForm.get('description')?.hasError('required') &&
            taskForm.get('description')?.touched
          "
        >
          <ng-template pTemplate>
            <div class="ml-2">La descripción es obligatoria</div>
          </ng-template>
        </p-messages>
      </div>

      <div class="p-field-checkbox">
        <p-checkbox
          formControlName="completed"
          binary="true"
          label="Completado"
        ></p-checkbox>
      </div>

      <button
        pButton
        label="Guardar"
        type="submit"
        class="p-button-raised p-button-primary custom-button"
        [disabled]="taskForm.invalid"
      ></button>
    </form>
  </p-card>
</div>
